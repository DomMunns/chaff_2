---
title: "Chaffinch"
author: "Dominic Munns"
date: "04/11/2020"
output: 
  bookdown::html_document2: default
  bookdown::word_document2: default
  bookdown::pdf_document2: default
bibliography:: references.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
                      warning = FALSE,
                      message = FALSE,
                      fig.retina = 3)
# default code
```
```{r packages}
# install packages
#install.packages("kableExtra")
#install.packages("flextable")
#install.packages("gt")
#install.packages("devtools")

#library(tidyverse)
#library(rmarkdown)

# install RefManageR and citr from github
#devtools::install_github("ropensci/RefManageR")
#devtools::install_github("crsh/citr")
# code for package loading



```
#Introduction
Chaffinches are very abundant in Britain, it's pattern helps it to blend into the environment when it is feeding on the ground [@Slater1979-if]. The wingspan of a chaffinch is 24.5-28.5cm and the mass is 18-29 grams [@Marler1956-od]. Males (see figure \@ref(fig:chaffmale-fig)) and females (see figure \@ref(fig:chafffemale-fig)) have different appearances

```{r chaffmale-fig, out.height="200px", fig.cap='(ref:chaffmale-fig)'}
knitr::include_graphics("pics/Chaffinch_male.jpg")
```

```{r chafffemale-fig, out.height="200px", fig.cap='(ref:chafffemale-fig)'}
knitr::include_graphics("pics/Chaffinch_female.jpg")
```

#Methods
Some interesting techniques.

#Results


#Discussion


#Bibliography 


```{r import}
#import dataset
chaff <- read.table("raw_data/chaff.txt", header = TRUE)

```
```{r tidy}
#tidy data
library(tidyverse)
chaff2 <- gather(chaff, key = sex, mass)
```
```{r SS(x)}
sum_sq <- function(df, measure, group) {
  df %>% group_by({{ group }}) %>% 
    summarise(ss = sum(({{measure}} - mean({{measure}}))^2))
}

sum_sq(chaff2, mass, sex)
```

```{r summary}
chaffsum <- chaff2 %>% 
  group_by(sex) %>% 
  summarise(mean_chaff = mean(mass),
            sd_chaff = sd(mass),
            se_chaff = sd(mass)/sqrt(length(mass)),
            sample_size = length(mass))
# summarise data
```

